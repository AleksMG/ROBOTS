<!DOCTYPE html>
<html>
<head>
    <title>Тест роботов</title>
    <style>
        .robot { width: 50px; height: 50px; position: absolute; }
        #robot1 { background: blue; }
        #robot2 { background: red; }
        .weapon-btn { padding: 5px; margin: 2px; }
        .active { background: green; color: white; }
    </style>
</head>
<body>
    <div id="arena" style="width:500px;height:300px;position:relative;border:1px solid black">
        <div id="robot1" class="robot"></div>
        <div id="robot2" class="robot"></div>
    </div>

    <div>
        <button class="weapon-btn active" data-robot="1" data-weapon="pistol">Робот1: Пистолет</button>
        <button class="weapon-btn" data-robot="1" data-weapon="laser">Робот1: Лазер</button>
        <button class="weapon-btn active" data-robot="2" data-weapon="pistol">Робот2: Пистолет</button>
        <button class="weapon-btn" data-robot="2" data-weapon="rocket">Робот2: Ракета</button>
    </div>

    <button id="startBtn">Начать бой</button>

    <script>
        // Упрощенная версия кода
        const WEAPONS = {
            pistol: { damage: 10 },
            laser: { damage: 5 },
            rocket: { damage: 25 }
        };

        class Robot {
            constructor(id) {
                this.id = id;
                this.weapon = 'pistol';
                this.element = document.getElementById(`robot${id}`);
                this.updatePosition();
            }

            setWeapon(weapon) {
                if (WEAPONS[weapon]) {
                    this.weapon = weapon;
                    console.log(`Робот ${this.id} теперь использует: ${weapon}`);
                    return true;
                }
                return false;
            }

            updatePosition() {
                this.element.style.left = this.id === '1' ? '50px' : '400px';
                this.element.style.top = '100px';
            }
        }

        // Инициализация
        const robot1 = new Robot('1');
        const robot2 = new Robot('2');

        // Обработчики кнопок оружия
        document.querySelectorAll('.weapon-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const robotId = this.dataset.robot;
                const weapon = this.dataset.weapon;
                
                document.querySelectorAll(`.weapon-btn[data-robot="${robotId}"]`)
                    .forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                if (robotId === "1") robot1.setWeapon(weapon);
                else robot2.setWeapon(weapon);
            });
        });

        // Старт боя
        document.getElementById('startBtn').addEventListener('click', () => {
            console.log('Бой начат!');
            console.log('Робот 1:', robot1.weapon);
            console.log('Робот 2:', robot2.weapon);
            alert(`Бой начат!\nРобот 1: ${robot1.weapon}\nРобот 2: ${robot2.weapon}`);
        });

        console.log('Система инициализирована');
    </script>
</body>
</html>
